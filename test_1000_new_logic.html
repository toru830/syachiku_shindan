<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1000å›ãƒ†ã‚¹ãƒˆ - æ–°ãƒ­ã‚¸ãƒƒã‚¯ç‰ˆ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        .result-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            border-left: 4px solid #007bff;
        }
        .result-item.rare {
            border-left-color: #ffc107;
            background: #fff3cd;
        }
        .result-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .result-count {
            color: #666;
            font-size: 0.9em;
        }
        .result-percentage {
            color: #007bff;
            font-weight: bold;
        }
        .summary {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .error {
            color: #dc3545;
            background: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ç¤¾ç•œè¨ºæ–­ 1000å›ãƒ†ã‚¹ãƒˆï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯ç‰ˆï¼‰</h1>
        <div id="status">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...</div>
        <div id="summary" class="summary" style="display: none;"></div>
        <div id="results" class="results"></div>
    </div>

    <script>
        // æœ¬ç•ªã®script.jsã‹ã‚‰è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ”ãƒ¼
        const questionsOriginal = [
            {
                text: "çµ‚é›»ã®æ™‚é–“ã§ã‚‚ä»•äº‹ãŒçµ‚ã‚ã£ã¦ã„ãªã‘ã‚Œã°æ®‹ã‚‹",
                axes: { dedication: 1, sacrifice: 1, stress: 0.5, relationship: 0 },
                options: [
                    { text: "å½“ç„¶æ®‹ã‚‹", value: 5, emoji: "ğŸ”¥" },
                    { text: "æ®‹ã‚‹", value: 4, emoji: "ğŸ’¼" },
                    { text: "ãŸã¾ã«æ®‹ã‚‹", value: 3, emoji: "ğŸ¤”" },
                    { text: "åŸºæœ¬å¸°ã‚‹", value: 2, emoji: "ğŸš¶" },
                    { text: "ç§’ã§å¸°ã‚‹", value: 1, emoji: "ğŸ’¨" },
                    { text: "çµ‚é›»ï¼Ÿå®šæ™‚ã§å¸°ã‚Šã¾ã™", value: 0, emoji: "ğŸ˜" }
                ]
            },
            {
                text: "ãŠè…¹ãŒç©ºã„ãŸãŒåˆå¾Œã®ä»•äº‹ã«å‘ã‘ã¦ãƒ©ãƒ³ãƒã‚’æŠœã",
                axes: { dedication: 0.8, sacrifice: 1, stress: 0, relationship: 0 },
                options: [
                    { text: "å½“ç„¶æŠœã", value: 5, emoji: "ğŸ˜¤" },
                    { text: "ã‚ˆãæŠœã", value: 4, emoji: "ğŸ˜£" },
                    { text: "ãŸã¾ã«æŠœã", value: 3, emoji: "ğŸ¤·" },
                    { text: "åŸºæœ¬é£Ÿã¹ã‚‹", value: 2, emoji: "ğŸ±" },
                    { text: "çµ¶å¯¾é£Ÿã¹ã‚‹", value: 1, emoji: "ğŸ˜‹" },
                    { text: "è±ªè¯ãƒ©ãƒ³ãƒå¿…é ˆ", value: 0, emoji: "ğŸ½ï¸" }
                ]
            },
            {
                text: "ä¸Šå¸ã‹ã‚‰ã®ä¼‘æ—¥ã®é€£çµ¡ã«ã™ãè¿”ä¿¡ã™ã‚‹",
                axes: { dedication: 0.7, sacrifice: 0.6, stress: 0, relationship: 1 },
                options: [
                    { text: "ç§’ã§è¿”ä¿¡", value: 5, emoji: "âš¡" },
                    { text: "ã™ãè¿”ä¿¡", value: 4, emoji: "ğŸ“±" },
                    { text: "ã‚ã‚Šã¨æ—©ã", value: 3, emoji: "âœ‰ï¸" },
                    { text: "å¾Œã§è¿”ã™", value: 2, emoji: "â°" },
                    { text: "æœˆæ›œã«è¿”ã™", value: 1, emoji: "ğŸ“…" },
                    { text: "æ—¢èª­ã‚¹ãƒ«ãƒ¼", value: 0, emoji: "ğŸ™ˆ" }
                ]
            },
            {
                text: "ä½“èª¿ãŒæ‚ªãã¦ã‚‚ä¼šç¤¾ã«å‡ºå‹¤ã™ã‚‹",
                axes: { dedication: 0.9, sacrifice: 1, stress: 0.7, relationship: 0 },
                options: [
                    { text: "é€™ã£ã¦ã§ã‚‚å‡ºç¤¾", value: 5, emoji: "ğŸ¤’" },
                    { text: "çµ¶å¯¾å‡ºç¤¾", value: 4, emoji: "ğŸ˜·" },
                    { text: "ãªã‚“ã¨ã‹å‡ºç¤¾", value: 3, emoji: "ğŸ¤§" },
                    { text: "æ‚ªã‹ã£ãŸã‚‰ä¼‘ã‚€", value: 2, emoji: "ğŸ¥" },
                    { text: "ä½™è£•ã§ä¼‘ã‚€", value: 1, emoji: "ğŸ˜´" },
                    { text: "æœ‰çµ¦æ¶ˆåŒ–ãƒãƒ£ãƒ³ã‚¹", value: 0, emoji: "ğŸ–ï¸" }
                ]
            },
            {
                text: "åŒåƒšãŒå›°ã£ã¦ã„ãŸã‚‰è‡ªåˆ†ã®ä»•äº‹ã‚’å¾Œå›ã—ã«ã—ã¦æ‰‹ä¼ã†",
                axes: { dedication: 0.3, sacrifice: 0.7, stress: 0, relationship: 1 },
                options: [
                    { text: "å³åº§ã«æ‰‹ä¼ã†", value: 5, emoji: "ğŸ¦¸" },
                    { text: "ã™ãæ‰‹ä¼ã†", value: 4, emoji: "ğŸ¤" },
                    { text: "ä½™è£•ã‚ã‚Œã°æ‰‹ä¼ã†", value: 3, emoji: "ğŸ‘" },
                    { text: "è‡ªåˆ†å„ªå…ˆ", value: 2, emoji: "ğŸ™‹" },
                    { text: "åŸºæœ¬æ‰‹ä¼ã‚ãªã„", value: 1, emoji: "ğŸš«" },
                    { text: "è¦‹ã¦è¦‹ã¬ãµã‚Š", value: 0, emoji: "ğŸ™ˆ" }
                ]
            },
            {
                text: "ä¼šç¤¾ã®é£²ã¿ä¼šã¯å…¨ã¦å‚åŠ ã™ã‚‹",
                axes: { dedication: 0.5, sacrifice: 0.6, stress: 0, relationship: 1 },
                options: [
                    { text: "å…¨å‚åŠ ", value: 5, emoji: "ğŸ»" },
                    { text: "ã»ã¼å‚åŠ ", value: 4, emoji: "ğŸº" },
                    { text: "ãŸã¾ã«å‚åŠ ", value: 3, emoji: "ğŸ¥‚" },
                    { text: "ã‚ã¾ã‚Šè¡Œã‹ãªã„", value: 2, emoji: "ğŸ " },
                    { text: "ã»ã¼ä¸å‚åŠ ", value: 1, emoji: "ğŸ™…" },
                    { text: "é£²ã¿ä¼šã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼", value: 0, emoji: "ğŸ˜«" }
                ]
            },
            {
                text: "æœ‰çµ¦ä¼‘æš‡ã‚’å–ã‚‹ã“ã¨ã«ç½ªæ‚ªæ„Ÿã‚’æ„Ÿã˜ã‚‹",
                axes: { dedication: 0.8, sacrifice: 0.8, stress: 0.5, relationship: 0.3 },
                options: [
                    { text: "ã™ã”ãæ„Ÿã˜ã‚‹", value: 5, emoji: "ğŸ˜°" },
                    { text: "æ„Ÿã˜ã‚‹", value: 4, emoji: "ğŸ˜¥" },
                    { text: "å°‘ã—æ„Ÿã˜ã‚‹", value: 3, emoji: "ğŸ¤”" },
                    { text: "ã‚ã¾ã‚Šæ„Ÿã˜ãªã„", value: 2, emoji: "ğŸ˜Œ" },
                    { text: "å…¨ãæ„Ÿã˜ãªã„", value: 1, emoji: "ğŸ˜„" },
                    { text: "æ¨©åˆ©ã§ã™", value: 0, emoji: "ğŸ‘‘" }
                ]
            },
            {
                text: "ä»•äº‹ã®ã“ã¨ã‚’è€ƒãˆã¦çœ ã‚Œãªã„å¤œãŒã‚ã‚‹",
                axes: { dedication: 0.7, sacrifice: 0.5, stress: 1, relationship: 0 },
                options: [
                    { text: "æ¯æ—¥", value: 5, emoji: "ğŸ˜µ" },
                    { text: "ã‚ˆãã‚ã‚‹", value: 4, emoji: "ğŸ˜«" },
                    { text: "ãŸã¾ã«ã‚ã‚‹", value: 3, emoji: "ğŸ˜ª" },
                    { text: "ã»ã¼ãªã„", value: 2, emoji: "ğŸ˜Œ" },
                    { text: "å…¨ããªã„", value: 1, emoji: "ğŸ˜´" },
                    { text: "ç§’ã§å¯ã‚Œã‚‹", value: 0, emoji: "ğŸ’¤" }
                ]
            },
            {
                text: "å®¶æ—ã‚„å‹äººã¨ã®ç´„æŸã‚ˆã‚Šä»•äº‹ã‚’å„ªå…ˆã™ã‚‹",
                axes: { dedication: 1, sacrifice: 1, stress: 0, relationship: 0 },
                options: [
                    { text: "çµ¶å¯¾ä»•äº‹", value: 5, emoji: "ğŸ’¼" },
                    { text: "åŸºæœ¬ä»•äº‹", value: 4, emoji: "ğŸ“Š" },
                    { text: "ãŸã¾ã«ä»•äº‹", value: 3, emoji: "âš–ï¸" },
                    { text: "åŠã€…", value: 2, emoji: "ğŸ¤" },
                    { text: "åŸºæœ¬ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ", value: 1, emoji: "ğŸ‰" },
                    { text: "çµ¶å¯¾ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ", value: 0, emoji: "ğŸ–ï¸" }
                ]
            },
            {
                text: "ä¼šç¤¾ã®ãŸã‚ã«è‡ªè…¹ã§å‚™å“ã‚„é£²é£Ÿç‰©ã‚’è³¼å…¥ã™ã‚‹ã“ã¨ãŒã‚ã‚‹",
                axes: { dedication: 0.9, sacrifice: 1, stress: 0, relationship: 0.5 },
                options: [
                    { text: "ã‚ˆãã‚ã‚‹", value: 5, emoji: "ğŸ’¸" },
                    { text: "ã‚ã‚‹", value: 4, emoji: "ğŸ’°" },
                    { text: "ãŸã¾ã«ã‚ã‚‹", value: 3, emoji: "ğŸ¤·" },
                    { text: "ã»ã¼ãªã„", value: 2, emoji: "ğŸ™…" },
                    { text: "çµ¶å¯¾ãªã„", value: 1, emoji: "âŒ" },
                    { text: "çµŒè²»ã§ã—ã‚‡", value: 0, emoji: "ğŸ’³" }
                ]
            },
            {
                text: "åœ¨å®…ãƒ¯ãƒ¼ã‚¯ã§æ˜¼å¯ã‚’ã—ã¦ã„ã‚‹äººãŒç¾¨ã¾ã—ã„",
                axes: { dedication: 1, sacrifice: 0, stress: 0, relationship: 0 },
                options: [
                    { text: "ã“ã‚Œç§", value: 5, emoji: "ğŸ˜´" },
                    { text: "ã™ã”ãç¾¨ã¾ã—ã„", value: 4, emoji: "ğŸ˜" },
                    { text: "ç¾¨ã¾ã—ã„", value: 3, emoji: "ğŸ¥º" },
                    { text: "ç„¡æ„Ÿæƒ…", value: 2, emoji: "ğŸ˜" },
                    { text: "ã‚†ã‚‹ã›ãªã„", value: 1, emoji: "ğŸ˜ " },
                    { text: "æ±ºã—ã¦è¨±ã›ãªã„", value: 0, emoji: "ğŸ˜¡" }
                ],
                reverse: true
            },
            {
                text: "é‡‘æ›œæ—¥ã®å¤•æ–¹ã€ã‚„ã‚‹æ°—ãŒå‡ºãªã„",
                axes: { dedication: 0.8, sacrifice: 0, stress: 0, relationship: 0 },
                options: [
                    { text: "ã“ã‚Œç§", value: 5, emoji: "ğŸ˜©" },
                    { text: "ã™ã”ããã†", value: 4, emoji: "ğŸ˜…" },
                    { text: "ã‚ã‚Šã¨ãã†", value: 3, emoji: "ğŸ˜ª" },
                    { text: "æ™®é€šã«åƒã‘ã‚‹", value: 2, emoji: "ğŸ˜Š" },
                    { text: "ãƒãƒªãƒãƒªåƒã‘ã‚‹", value: 1, emoji: "ğŸ’ª" },
                    { text: "é‡‘æ›œãŒä¸€ç•ªç‡ƒãˆã‚‹", value: 0, emoji: "ğŸ”¥" }
                ],
                reverse: true
            },
            {
                text: "ä¼šè­°ä¸­ã«ã‚¹ãƒãƒ›ã‚’ã„ã˜ã£ãŸã“ã¨ãŒã‚ã‚‹",
                axes: { dedication: 0.7, sacrifice: 0, stress: 0, relationship: 0.5 },
                options: [
                    { text: "æ¯å›", value: 5, emoji: "ğŸ“±" },
                    { text: "ã‚ˆãã‚ã‚‹", value: 4, emoji: "ğŸ‘€" },
                    { text: "ãŸã¾ã«", value: 3, emoji: "ğŸ¤­" },
                    { text: "ã»ã¼ãªã„", value: 2, emoji: "ğŸ™…" },
                    { text: "çµ¶å¯¾ã—ãªã„", value: 1, emoji: "ğŸ˜‡" },
                    { text: "ä¼šè­°ã¯çœŸå‰£å‹è² ", value: 0, emoji: "ğŸ’¼" }
                ],
                reverse: true
            },
            {
                text: "ç· ã‚åˆ‡ã‚Šå‰æ—¥ã«ãªã‚‰ãªã„ã¨ã‚„ã‚‹æ°—ãŒå‡ºãªã„",
                axes: { dedication: 0.6, sacrifice: 0, stress: 0.3, relationship: 0 },
                options: [
                    { text: "ã“ã‚Œç§", value: 5, emoji: "ğŸ˜­" },
                    { text: "å®Œå…¨ã«ãã†", value: 4, emoji: "ğŸ˜…" },
                    { text: "ã‚ã‚Šã¨ãã†", value: 3, emoji: "ğŸ¤”" },
                    { text: "æ™®é€š", value: 2, emoji: "ğŸ˜" },
                    { text: "è¨ˆç”»çš„ã«ã‚„ã‚‹", value: 1, emoji: "ğŸ“" },
                    { text: "ä½™è£•ã‚’æŒã£ã¦ã‚„ã‚‹", value: 0, emoji: "âœ…" }
                ],
                reverse: true
            },
            {
                text: "ä»•äº‹ä¸­ã«ãƒãƒƒãƒˆã‚µãƒ¼ãƒ•ã‚£ãƒ³ã‚’ã™ã‚‹",
                axes: { dedication: 0.9, sacrifice: 0, stress: 0, relationship: 0 },
                options: [
                    { text: "å¸¸ã«", value: 5, emoji: "ğŸ’»" },
                    { text: "ã‚ˆãã™ã‚‹", value: 4, emoji: "ğŸŒ" },
                    { text: "ãŸã¾ã«", value: 3, emoji: "ğŸ¤«" },
                    { text: "ã»ã¼ã—ãªã„", value: 2, emoji: "ğŸ™…" },
                    { text: "çµ¶å¯¾ã—ãªã„", value: 1, emoji: "ğŸš«" },
                    { text: "ä»•äº‹ã«é›†ä¸­ã—ã¦ã‚‹", value: 0, emoji: "ğŸ’ª" }
                ],
                reverse: true
            }
        ];

        // ã‚·ãƒ£ãƒƒãƒ•ãƒ«ç”¨ã®è³ªå•é…åˆ—
        let questions = [];

        // é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã™ã‚‹é–¢æ•°
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // æœ¬ç•ªã®è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆscript.jsã‹ã‚‰ã‚³ãƒ”ãƒ¼ï¼‰
        function computeAxes() {
            let scores = {
                dedication: 0,
                sacrifice: 0,
                stress: 0,
                relationship: 0
            };

            questions.forEach(q => {
                const multiplier = q.reverse ? -1 : 1;
                scores.dedication += 3 * q.axes.dedication * multiplier;
                scores.sacrifice += 3 * q.axes.sacrifice * multiplier;
                scores.stress += 3 * q.axes.stress * multiplier;
                scores.relationship += 3 * q.axes.relationship * multiplier;
            });

            // å„è»¸ã®æœ€å¤§ãƒ»æœ€å°ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—
            let maxDedication = 0, minDedication = 0;
            let maxSacrifice = 0, minSacrifice = 0;
            let maxStress = 0, minStress = 0;
            let maxRelationship = 0, minRelationship = 0;
            
            questions.forEach(q => {
                const multiplier = q.reverse ? -1 : 1;
                const dedWeight = q.axes.dedication * multiplier;
                const sacWeight = q.axes.sacrifice * multiplier;
                const strWeight = q.axes.stress * multiplier;
                const relWeight = q.axes.relationship * multiplier;
                
                maxDedication += Math.max(dedWeight * 5, dedWeight * 0);
                minDedication += Math.min(dedWeight * 5, dedWeight * 0);
                
                maxSacrifice += Math.max(sacWeight * 5, sacWeight * 0);
                minSacrifice += Math.min(sacWeight * 5, sacWeight * 0);
                
                maxStress += Math.max(strWeight * 5, strWeight * 0);
                minStress += Math.min(strWeight * 5, strWeight * 0);
                
                maxRelationship += Math.max(relWeight * 5, relWeight * 0);
                minRelationship += Math.min(relWeight * 5, relWeight * 0);
            });
            
            // ã‚¹ã‚³ã‚¢ã‚’0-100%ã«æ­£è¦åŒ–
            function normalizeScore(score, min, max) {
                if (max === min) return 50;
                return Math.max(0, Math.min(100, ((score - min) / (max - min)) * 100));
            }
            
            return {
                dedication: normalizeScore(scores.dedication, minDedication, maxDedication),
                sacrifice: normalizeScore(scores.sacrifice, minSacrifice, maxSacrifice),
                stress: normalizeScore(scores.stress, minStress, maxStress),
                relationship: normalizeScore(scores.relationship, minRelationship, maxRelationship)
            };
        }

        // æ–°ã—ã„ã‚·ãƒ³ãƒ—ãƒ«ãªè¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯
        function getResultType(normalizedScores) {
            const ax = {
                d: normalizedScores.dedication,
                s: normalizedScores.sacrifice,
                r: normalizedScores.stress,
                h: normalizedScores.relationship
            };
            
            console.log('è¨ºæ–­é–‹å§‹ - ã‚¹ã‚³ã‚¢:', ax);
            
            // ãƒ¬ã‚¢åˆ¤å®šï¼ˆæ¥µç«¯ãªå€¤ã®ã¿ï¼‰
            if (ax.d >= 85 && ax.s >= 85 && ax.r >= 85 && ax.h >= 85) {
                console.log('ãƒ¬ã‚¢åˆ¤å®š: ç”Ÿç²‹ã®ç¤¾ç•œ');
                return TYPES.ELITE;
            }
            if (ax.d <= 15 && ax.s <= 15 && ax.r <= 15 && ax.h <= 15) {
                console.log('ãƒ¬ã‚¢åˆ¤å®š: è‡ªç”±äºº');
                return TYPES.FREE;
            }
            
            // éãƒ¬ã‚¢ã‚¿ã‚¤ãƒ—ã‚’å‡ç­‰ã«åˆ†æ•£ã•ã›ã‚‹ãŸã‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ­ã‚¸ãƒƒã‚¯
            const nonRareTypes = Object.values(TYPES).filter(t => !t.rare);
            console.log('éãƒ¬ã‚¢ã‚¿ã‚¤ãƒ—æ•°:', nonRareTypes.length);
            
            // ã‚¹ã‚³ã‚¢ã®åˆè¨ˆå€¤ã‚’ä½¿ã£ã¦å‡ç­‰åˆ†æ•£
            const totalScore = ax.d + ax.s + ax.r + ax.h;
            const normalizedTotal = (totalScore / 400) * 100; // 0-100ã«æ­£è¦åŒ–
            
            // å„ã‚¿ã‚¤ãƒ—ã«å‡ç­‰ãªç¯„å›²ã‚’å‰²ã‚Šå½“ã¦
            const rangePerType = 100 / nonRareTypes.length;
            const typeIndex = Math.floor(normalizedTotal / rangePerType);
            const selectedType = nonRareTypes[Math.min(typeIndex, nonRareTypes.length - 1)];
            
            console.log('é¸æŠã•ã‚ŒãŸã‚¿ã‚¤ãƒ—:', selectedType.name);
            return selectedType;
        }

        // === ã‚¿ã‚¤ãƒ—å®šç¾©ï¼ˆ16ç¨®é¡ãƒ»æ–°åç§°ä»•æ§˜ï¼‰ ===
        const TYPES = {
            ELITE: { key:"ELITE", name:"ç”Ÿç²‹ã®ç¤¾ç•œ", icon:"ğŸ”¥",
                desc:"å…¨è»¸ãŒéå¸¸ã«é«˜ã„ç©¶æ¥µã®çŒ®èº«è€…ã€‚ä»•äº‹ã¨ä¸€ä½“åŒ–ã—ã€æˆæœã‚’ä½¿å‘½ã¨ã™ã‚‹å­˜åœ¨ã€‚", 
                rare:true, tags:["ç©¶æ¥µã®çŒ®èº«","ç‡ƒãˆå°½ãæ³¨æ„"],
                centroid:{d:95,s:95,r:95,h:95},
                level: 100 },

            BURNOUT: { key:"BURNOUT", name:"é™ç•Œçªç ´ç¤¾ç•œ", icon:"âš ï¸",
                desc:"çŒ®èº«ãƒ»çŠ ç‰²ãŒé«˜ãã€è€æ€§ã¨äººé–“é–¢ä¿‚ãŒä½ã„ã€‚é™ç•Œã¾ã§æŒ‘ã¿ç¶šã‘ã‚‹é ‘å¼µã‚Šå±‹ã‚¿ã‚¤ãƒ—ã€‚",
                centroid:{d:80,s:80,r:20,h:20}, tags:["éè² è·","è¦ä¼‘æ¯"],
                level: 95 },

            STOIC: { key:"STOIC", name:"ç„¡æ•—ã®è·äººç¤¾ç•œ", icon:"ğŸ¥‡",
                desc:"é«˜çŒ®èº«ãƒ»é«˜çŠ ç‰²ãƒ»é«˜è€æ€§ã€‚é»™ã€…ã¨æˆæœã‚’ç©ã¿ä¸Šã’ã‚‹ãƒ—ãƒ­æ„è­˜ã®æŒã¡ä¸»ã€‚",
                centroid:{d:85,s:75,r:85,h:35}, tags:["è‡ªå·±è¦å¾‹","ç²˜ã‚Šå¼·ã•"],
                level: 85 },

            LONE: { key:"LONE", name:"å­¤é«˜ã®æˆæœä¸»ç¾©ç¤¾ç•œ", icon:"ğŸº",
                desc:"çŒ®èº«ãƒ»çŠ ç‰²ãƒ»è€æ€§ã¯é«˜ãã€äººé–“é–¢ä¿‚ã¯æ§ãˆã‚ã€‚çµæœã«å…¨ã¦ã‚’è³­ã‘ã‚‹å­¤é«˜ã®æˆ¦å£«ã€‚",
                centroid:{d:85,s:75,r:85,h:15}, tags:["ç‹¬ç«‹ç‹¬æ­©","é›†ä¸­åŠ›"],
                level: 75 },

            KIND: { key:"KIND", name:"å¿ƒå„ªã—ãç¤¾ç•œ", icon:"ğŸ’",
                desc:"é«˜çŒ®èº«ã§äººé–“é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã™ã‚‹æ¸©åšã‚¿ã‚¤ãƒ—ã€‚ãƒãƒ¼ãƒ ã‚’æ”¯ãˆã‚‹ç¸ã®ä¸‹ã®åŠ›æŒã¡ã€‚",
                centroid:{d:75,s:25,r:25,h:85}, tags:["æ€ã„ã‚„ã‚Š","å…±æ„Ÿ"],
                level: 65 },

            SENSITIVE: { key:"SENSITIVE", name:"èª å®Ÿãªè¦³å¯Ÿç¤¾å“¡", icon:"ğŸŒ¿",
                desc:"çŒ®èº«ã¯é«˜ã„ãŒçŠ ç‰²ã¨è€æ€§ã¯ä½ã„ã€‚èª å®Ÿã§ä¸å¯§ã€æ„Ÿå—æ€§è±Šã‹ãªè¦³å¯Ÿè€…ã€‚",
                centroid:{d:75,s:25,r:25,h:25}, tags:["æ…é‡","èª å®Ÿ"],
                level: 55 },

            TEAM: { key:"TEAM", name:"å…±å‰µãƒªãƒ¼ãƒ€ãƒ¼ç¤¾å“¡", icon:"ğŸ¤",
                desc:"é«˜çŒ®èº«ãƒ»é«˜è€æ€§ãƒ»äººé–“é–¢ä¿‚é«˜ã€‚å”åƒã§æˆæœã‚’ç”Ÿã¿ã€å‘¨å›²ã‚’å°ãã‚¿ã‚¤ãƒ—ã€‚",
                centroid:{d:70,s:40,r:80,h:85}, tags:["å”èª¿","ä¿¡é ¼"],
                level: 60 },

            PACE: { key:"PACE", name:"ãƒã‚¤ãƒšãƒ¼ã‚¹ç¤¾å“¡", icon:"ğŸ§­",
                desc:"çŒ®èº«ãƒ»è€æ€§ãŒé«˜ã„ãŒé–¢ä¿‚æ€§ã¯æ§ãˆã‚ã€‚è‡ªå¾‹ã—ã¦æ·¡ã€…ã¨çµæœã‚’å‡ºã™ã€‚",
                centroid:{d:70,s:35,r:80,h:35}, tags:["è‡ªå¾‹","å®‰å®š"],
                level: 45 },

            YURUFUWA: { key:"YURUFUWA", name:"ã‚†ã‚‹ãµã‚ç¤¾ç•œ", icon:"ğŸ«§",
                desc:"çŒ®èº«ã¯ä½ã„ãŒçŠ ç‰²ãŒé«˜ãã€äººã®ãŸã‚ã«å‹•ãã‚„ã•ã—ãå¥‰ä»•è€…ã€‚è‡ªå·±çŠ ç‰²ã«æ³¨æ„ã€‚",
                centroid:{d:25,s:80,r:25,h:85}, tags:["å„ªã—ã•","è‡ªå·±çŠ ç‰²"],
                level: 35 },

            HIDDEN: { key:"HIDDEN", name:"éš ã‚Œç–²åŠ´ç¤¾ç•œ", icon:"ğŸŒ§ï¸",
                desc:"ãƒãƒ©ãƒ³ã‚¹å‹ã ãŒè€æ€§ãŒä½ã„ã€‚ç„¡è‡ªè¦šã«ç–²ã‚Œã‚’ãŸã‚ãŒã¡ãªé ‘å¼µã‚Šå±‹ã€‚",
                centroid:{d:45,s:45,r:20,h:45}, tags:["å›å¾©é‡è¦–","ã‚¹ãƒˆãƒ¬ã‚¹ç®¡ç†"],
                level: 40 },

            NICE: { key:"NICE", name:"ãŠäººå¥½ã—ç¤¾å“¡", icon:"ğŸ˜Š",
                desc:"å…¨ä½“ä¸­åº¸ãƒ»äººé–“é–¢ä¿‚ãŒé«˜ã„ã€‚æ½¤æ»‘æ²¹ã¨ã—ã¦å ´ã‚’æ•´ãˆã€æ”¯æ´ã«é•·ã‘ã‚‹ã€‚",
                centroid:{d:45,s:45,r:55,h:88}, tags:["èª¿æ•´å½¹","å„ªã—ã•"],
                level: 30 },

            REAL: { key:"REAL", name:"ç¾å®Ÿæ´¾ç¤¾å“¡", icon:"ğŸ§±",
                desc:"å…¨ä½“ä¸­åº¸ãƒ»äººé–“é–¢ä¿‚æ§ãˆã‚ã€‚åˆç†çš„ãƒ»å®Ÿå‹™çš„ã§å …å®Ÿãªãƒªã‚¢ãƒªã‚¹ãƒˆã€‚",
                centroid:{d:55,s:55,r:55,h:15}, tags:["å …å®Ÿ","å®Ÿå‹™åŠ›"],
                level: 25 },

            FAMILY: { key:"FAMILY", name:"å®¶åº­ãŒå¤§äº‹ç¤¾å“¡", icon:"ğŸ¡",
                desc:"ä½çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»äººé–“é–¢ä¿‚é«˜ã€‚å®¶æ—ã‚„ç§ç”Ÿæ´»ã‚’å¤§åˆ‡ã«ã™ã‚‹ãƒãƒ©ãƒ³ã‚¹å‹ã€‚",
                centroid:{d:25,s:25,r:55,h:85}, tags:["å®‰å®š","ãƒ©ã‚¤ãƒ•é‡è¦–"],
                level: 20 },

            LWB: { key:"LWB", name:"ãƒãƒ©ãƒ³ã‚µãƒ¼ç¤¾å“¡", icon:"âš–ï¸",
                desc:"ä¸­åº¸ã§èª¿å’Œå¿—å‘ã€‚ä»•äº‹ã¨ç”Ÿæ´»ã®ä¸¡ç«‹ã‚’é‡è¦–ã™ã‚‹ã‚¹ãƒãƒ¼ãƒˆãƒ¯ãƒ¼ã‚«ãƒ¼ã€‚",
                centroid:{d:58,s:32,r:55,h:55}, tags:["èª¿å’Œ","æŸ”è»Ÿæ€§"],
                level: 15 },

            ABLE: { key:"ABLE", name:"æˆæœæœ€é©åŒ–ç¤¾ç•œ", icon:"ğŸš€",
                desc:"é«˜çŒ®èº«ãƒ»ä¸­çŠ ç‰²ãƒ»é«˜è€æ€§ã€‚æˆ¦ç•¥çš„ã«å‹•ãçµæœé‡è¦–ã‚¿ã‚¤ãƒ—ã€‚",
                centroid:{d:78,s:55,r:85,h:55}, tags:["æˆ¦ç•¥æ€§","åŠ¹ç‡é‡è¦–"],
                level: 10 },

            FREE: { key:"FREE", name:"è‡ªç”±äºº", icon:"ğŸ•Šï¸",
                desc:"å…¨è»¸ãŒä½ã„è‡ªç”±å¥”æ”¾ã‚¿ã‚¤ãƒ—ã€‚è‡ªåˆ†ã®æ„Ÿæ€§ã‚’è»¸ã«ç”Ÿãã‚‹ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼æ°—è³ªã€‚",
                rare:true, tags:["è‡ªç”±","å‰µé€ æ€§"],
                centroid:{d:5,s:5,r:5,h:5},
                level: 0 },
        };

        // 1000å›ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
        function runTest() {
            const results = {};
            const errors = [];
            
            for (let i = 0; i < 1000; i++) {
                try {
                    // ãƒ©ãƒ³ãƒ€ãƒ ãªå›ç­”ã‚’ç”Ÿæˆ
                    questions = shuffleArray(questionsOriginal);
                    const scores = {
                        dedication: 0,
                        sacrifice: 0,
                        stress: 0,
                        relationship: 0
                    };
                    
                    // ãƒ©ãƒ³ãƒ€ãƒ ãªå›ç­”ã‚’é¸æŠ
                    questions.forEach(q => {
                        const randomOption = q.options[Math.floor(Math.random() * q.options.length)];
                        const multiplier = q.reverse ? -1 : 1;
                        
                        scores.dedication += randomOption.value * q.axes.dedication * multiplier;
                        scores.sacrifice += randomOption.value * q.axes.sacrifice * multiplier;
                        scores.stress += randomOption.value * q.axes.stress * multiplier;
                        scores.relationship += randomOption.value * q.axes.relationship * multiplier;
                    });
                    
                    // æ­£è¦åŒ–
                    const normalizedScores = computeAxes();
                    const resultType = getResultType(normalizedScores);
                    
                    if (resultType && resultType.name) {
                        results[resultType.name] = (results[resultType.name] || 0) + 1;
                    } else {
                        errors.push(`Test ${i+1}: No result type found`);
                    }
                } catch (error) {
                    errors.push(`Test ${i+1}: ${error.message}`);
                }
            }
            
            displayResults(results, errors);
        }

        function displayResults(results, errors) {
            const statusEl = document.getElementById('status');
            const summaryEl = document.getElementById('summary');
            const resultsEl = document.getElementById('results');
            
            statusEl.textContent = 'ãƒ†ã‚¹ãƒˆå®Œäº†ï¼';
            
            // ã‚µãƒãƒªãƒ¼è¡¨ç¤º
            const totalTests = 1000 - errors.length;
            const typeCount = Object.keys(results).length;
            const rareTypes = ['ç”Ÿç²‹ã®ç¤¾ç•œ', 'è‡ªç”±äºº'];
            const rareCount = rareTypes.reduce((sum, type) => sum + (results[type] || 0), 0);
            const nonRareCount = totalTests - rareCount;
            
            summaryEl.innerHTML = `
                <h3>ãƒ†ã‚¹ãƒˆçµæœã‚µãƒãƒªãƒ¼</h3>
                <p><strong>ç·ãƒ†ã‚¹ãƒˆæ•°:</strong> 1000å›</p>
                <p><strong>æˆåŠŸ:</strong> ${totalTests}å›</p>
                <p><strong>ã‚¨ãƒ©ãƒ¼:</strong> ${errors.length}å›</p>
                <p><strong>å‡ºç¾ã‚¿ã‚¤ãƒ—æ•°:</strong> ${typeCount}ç¨®é¡</p>
                <p><strong>ãƒ¬ã‚¢ã‚¿ã‚¤ãƒ—å‡ºç¾:</strong> ${rareCount}å› (${(rareCount/totalTests*100).toFixed(1)}%)</p>
                <p><strong>éãƒ¬ã‚¢ã‚¿ã‚¤ãƒ—å‡ºç¾:</strong> ${nonRareCount}å› (${(nonRareCount/totalTests*100).toFixed(1)}%)</p>
            `;
            summaryEl.style.display = 'block';
            
            // ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
            if (errors.length > 0) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error';
                errorDiv.innerHTML = `<strong>ã‚¨ãƒ©ãƒ¼ (${errors.length}ä»¶):</strong><br>${errors.slice(0, 10).join('<br>')}${errors.length > 10 ? '<br>...' : ''}`;
                resultsEl.appendChild(errorDiv);
            }
            
            // çµæœè¡¨ç¤º
            const sortedResults = Object.entries(results)
                .sort((a, b) => b[1] - a[1])
                .map(([name, count]) => {
                    const percentage = (count / totalTests * 100).toFixed(1);
                    const isRare = rareTypes.includes(name);
                    return { name, count, percentage, isRare };
                });
            
            sortedResults.forEach(result => {
                const div = document.createElement('div');
                div.className = `result-item ${result.isRare ? 'rare' : ''}`;
                div.innerHTML = `
                    <div class="result-name">${result.name}</div>
                    <div class="result-count">${result.count}å›</div>
                    <div class="result-percentage">${result.percentage}%</div>
                `;
                resultsEl.appendChild(div);
            });
        }

        // ãƒ†ã‚¹ãƒˆé–‹å§‹
        runTest();
    </script>
</body>
</html>