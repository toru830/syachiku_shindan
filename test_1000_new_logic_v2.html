<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>1000å›ãƒ†ã‚¹ãƒˆ - æ–°ãƒ­ã‚¸ãƒƒã‚¯v2</title>
</head>
<body>
  <h1>1000å›ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­ï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯v2ï¼‰...</h1>
  <div id="results"></div>

<script>
// ç¾åœ¨ã®script.jsã‹ã‚‰è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚³ãƒ”ãƒ¼
// è³ªå•ãƒ‡ãƒ¼ã‚¿
const questions = [
    "æ®‹æ¥­ã¯å½“ãŸã‚Šå‰ã ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ",
    "ä¼‘æ—¥ã‚‚ä»•äº‹ã®ã“ã¨ã‚’è€ƒãˆã¦ã—ã¾ã„ã¾ã™ã‹ï¼Ÿ",
    "ä¼šç¤¾ã®åˆ©ç›Šã‚’è‡ªåˆ†ã®åˆ©ç›Šã‚ˆã‚Šå„ªå…ˆã—ã¾ã™ã‹ï¼Ÿ",
    "ä»•äº‹ã§æˆæœã‚’å‡ºã™ã“ã¨ãŒäººç”Ÿã®ç›®æ¨™ã§ã™ã‹ï¼Ÿ",
    "æœ‰çµ¦ä¼‘æš‡ã‚’å–ã‚‹ã“ã¨ã«ç½ªæ‚ªæ„Ÿã‚’æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ",
    "å®¶æ—ã‚ˆã‚Šä»•äº‹ã‚’å„ªå…ˆã—ã¦ã—ã¾ã„ã¾ã™ã‹ï¼Ÿ",
    "ä½“èª¿ãŒæ‚ªãã¦ã‚‚ä»•äº‹ã‚’ä¼‘ã‚ã¾ã›ã‚“ã‹ï¼Ÿ",
    "ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®æ™‚é–“ã‚’ä»•äº‹ã«ä½¿ã„ã¾ã™ã‹ï¼Ÿ",
    "è‡ªåˆ†ã®å¥åº·ã‚ˆã‚Šä¼šç¤¾ã®ã“ã¨ã‚’è€ƒãˆã¾ã™ã‹ï¼Ÿ",
    "å‹äººã¨ã®ç´„æŸã‚ˆã‚Šä»•äº‹ã‚’å„ªå…ˆã—ã¾ã™ã‹ï¼Ÿ",
    "ãƒ—ãƒ¬ãƒƒã‚·ãƒ£ãƒ¼ã‚’æ„Ÿã˜ã¦ã‚‚é ‘å¼µã‚Œã¾ã™ã‹ï¼Ÿ",
    "å›°é›£ãªçŠ¶æ³ã§ã‚‚è«¦ã‚ã¾ã›ã‚“ã‹ï¼Ÿ",
    "ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã¦ã‚‚ä»•äº‹ã‚’ç¶šã‘ã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ",
    "åŒåƒšã¨ã®é–¢ä¿‚ã‚’å¤§åˆ‡ã«ã—ã¾ã™ã‹ï¼Ÿ",
    "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é‡è¦–ã—ã¾ã™ã‹ï¼Ÿ"
];

// çµæœã‚¿ã‚¤ãƒ—ï¼ˆç¾åœ¨ã®script.jsã‹ã‚‰ï¼‰
const resultTypes = [
    { name: "ç”Ÿç²‹ã®ç¤¾ç•œ", icon: "ğŸ”¥", description: "å®Œç’§ä¸»ç¾©ã§ä»•äº‹ã«å…¨ã¦ã‚’æ§ã’ã‚‹ç©¶æ¥µã®ç¤¾ç•œã‚¿ã‚¤ãƒ—", level: 100 },
    { name: "ãƒãƒ¼ãƒ³ã‚¢ã‚¦ãƒˆäºˆå‚™è»", icon: "âš ï¸", description: "é ‘å¼µã‚Šã™ãã¦ç‡ƒãˆå°½ããã†ãªå±é™ºãªçŠ¶æ…‹", level: 85 },
    { name: "ã‚¹ãƒˆã‚¤ãƒƒã‚¯ç¤¾ç•œ", icon: "ğŸ¥‡", description: "å³æ ¼ã§è‡ªå·±ç®¡ç†ãŒã§ãã‚‹ç†æƒ³çš„ãªç¤¾ç•œ", level: 80 },
    { name: "ä¸€åŒ¹ç‹¼ãƒ¯ãƒ¼ã‚«ãƒ¼", icon: "ğŸº", description: "ä¸€äººã§é»™ã€…ã¨ä½œæ¥­ã™ã‚‹å­¤é«˜ã®ãƒ¯ãƒ¼ã‚«ãƒ¼", level: 75 },
    { name: "å¿ƒå„ªã—ãç¤¾ç•œ", icon: "ğŸ’", description: "äººã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã‚‚ä»•äº‹ã«çœŸæ‘¯ã«å‘ãåˆã†", level: 70 },
    { name: "ç¹Šç´°ãƒ¯ãƒ¼ã‚«ãƒ¼", icon: "ğŸŒ¿", description: "ç¹Šç´°ã§ä¸å¯§ãªä»•äº‹ã¶ã‚ŠãŒç‰¹å¾´", level: 65 },
    { name: "ãƒãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼", icon: "ğŸ¤", description: "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’é‡è¦–ã™ã‚‹å”èª¿æ€§ã®é«˜ã„ã‚¿ã‚¤ãƒ—", level: 60 },
    { name: "ãƒã‚¤ãƒšãƒ¼ã‚¹ç¤¾å“¡", icon: "ğŸ§­", description: "è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã‚’å¤§åˆ‡ã«ã™ã‚‹è‡ªå¾‹çš„ãªç¤¾å“¡", level: 55 },
    { name: "ã‚†ã‚‹ãµã‚ç¤¾ç•œ", icon: "ğŸ«§", description: "ã‚†ã‚‹ãã¦ã‚‚æ„å¤–ã¨ä»•äº‹ãŒã§ãã‚‹ã‚¿ã‚¤ãƒ—", level: 50 },
    { name: "éš ã‚Œç–²åŠ´ã‚¿ã‚¤ãƒ—", icon: "ğŸŒ§ï¸", description: "ç–²ã‚Œã‚’éš ã—ã¦é ‘å¼µã‚Šç¶šã‘ã‚‹ã‚¿ã‚¤ãƒ—", level: 45 },
    { name: "ãŠäººå¥½ã—ç¤¾å“¡", icon: "ğŸ˜Š", description: "äººã«å„ªã—ãã€é ¼ã¾ã‚Œã‚‹ã¨æ–­ã‚Œãªã„ã‚¿ã‚¤ãƒ—", level: 40 },
    { name: "ç¾å®Ÿæ´¾ç¤¾å“¡", icon: "ğŸ§±", description: "ç¾å®Ÿçš„ã§å …å®Ÿãªåƒãæ–¹ã‚’ã™ã‚‹ã‚¿ã‚¤ãƒ—", level: 35 },
    { name: "å®¶åº­ãŒå¤§äº‹", icon: "ğŸ¡", description: "å®¶æ—ã‚’æœ€å„ªå…ˆã«è€ƒãˆã‚‹ãƒãƒ©ãƒ³ã‚¹å‹", level: 30 },
    { name: "ãƒ©ã‚¤ãƒ•ãƒ¯ãƒ¼ã‚¯ãƒãƒ©ãƒ³ã‚¹", icon: "âš–ï¸", description: "ä»•äº‹ã¨ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã®ãƒãƒ©ãƒ³ã‚¹ã‚’é‡è¦–", level: 25 },
    { name: "ãƒ‡ã‚­ã‚‹ç¤¾å“¡", icon: "ğŸš€", description: "åŠ¹ç‡çš„ã§æˆæœã‚’å‡ºã™å„ªç§€ãªç¤¾å“¡", level: 20 },
    { name: "è‡ªç”±äºº", icon: "ğŸ•Šï¸", description: "è‡ªç”±å¥”æ”¾ã§ç¸›ã‚‰ã‚Œãªã„ç”Ÿãæ–¹ã‚’ã™ã‚‹ã‚¿ã‚¤ãƒ—", level: 15 }
];

// ã‚¹ã‚³ã‚¢è¨ˆç®—é–¢æ•°ï¼ˆç¾åœ¨ã®script.jsã‹ã‚‰ï¼‰
function calculateScores(answers) {
    const dedication = (answers.slice(0, 5).reduce((a, b) => a + b, 0) / 5) * 20;
    const sacrifice = (answers.slice(5, 10).reduce((a, b) => a + b, 0) / 5) * 20;
    const stress = (answers.slice(10, 13).reduce((a, b) => a + b, 0) / 3) * 20;
    const relationship = (answers.slice(13, 15).reduce((a, b) => a + b, 0) / 2) * 20;
    
    return { dedication, sacrifice, stress, relationship };
}

// æ–°ã—ã„è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæä¾›ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ï¼‰
function rareCheck(ax){
  // 80/20ã§2ãƒ¬ã‚¢ã‚’æ‹¾ã†ï¼ˆUIè¦ä»¶ã©ãŠã‚Š"ç¨‹åº¦"ã®å‡ºç¾ã«ï¼‰
  if (ax.d>=80 && ax.s>=80 && ax.r>=80 && ax.h>=80) return TYPES.ELITE;
  if (ax.d<=20 && ax.s<=20 && ax.r<=20 && ax.h<=20) return TYPES.FREE;
  return null;
}

function patternMatch(ax){
  return null;
}

function nearestType(ax){
  const list = Object.values(TYPES).filter(t => !t.rare);
  let best = list[0], bestDist = Infinity;
  for (const t of list){
    const c = t.centroid;
    const dist = Math.hypot(ax.d-c.d, ax.s-c.s, ax.r-c.r, ax.h-c.h);
    if (dist < bestDist){ bestDist = dist; best = t; }
  }
  return best;
}

// TYPESã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å®šç¾©
const TYPES = {
    ELITE: resultTypes[0],      // ç”Ÿç²‹ã®ç¤¾ç•œ
    BURNOUT: resultTypes[1],    // ãƒãƒ¼ãƒ³ã‚¢ã‚¦ãƒˆäºˆå‚™è»
    STOIC: resultTypes[2],      // ã‚¹ãƒˆã‚¤ãƒƒã‚¯ç¤¾ç•œ
    LONE: resultTypes[3],       // ä¸€åŒ¹ç‹¼ãƒ¯ãƒ¼ã‚«ãƒ¼
    KIND: resultTypes[4],       // å¿ƒå„ªã—ãç¤¾ç•œ
    SENSITIVE: resultTypes[5],  // ç¹Šç´°ãƒ¯ãƒ¼ã‚«ãƒ¼
    TEAM: resultTypes[6],       // ãƒãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
    PACE: resultTypes[7],       // ãƒã‚¤ãƒšãƒ¼ã‚¹ç¤¾å“¡
    YURUFUWA: resultTypes[8],   // ã‚†ã‚‹ãµã‚ç¤¾ç•œ
    HIDDEN: resultTypes[9],     // éš ã‚Œç–²åŠ´ã‚¿ã‚¤ãƒ—
    NICE: resultTypes[10],      // ãŠäººå¥½ã—ç¤¾å“¡
    REAL: resultTypes[11],      // ç¾å®Ÿæ´¾ç¤¾å“¡
    FAMILY: resultTypes[12],    // å®¶åº­ãŒå¤§äº‹
    LWB: resultTypes[13],       // ãƒ©ã‚¤ãƒ•ãƒ¯ãƒ¼ã‚¯ãƒãƒ©ãƒ³ã‚¹
    ABLE: resultTypes[14],      // ãƒ‡ã‚­ã‚‹ç¤¾å“¡
    FREE: resultTypes[15]       // è‡ªç”±äºº
};

// ãƒ¬ã‚¢ãƒ•ãƒ©ã‚°ã‚’è¨­å®š
TYPES.ELITE.rare = true;
TYPES.FREE.rare = true;

// ä»£è¡¨ç‚¹ï¼ˆcentroidï¼‰ã®å†é…ç½®
TYPES.BURNOUT.centroid = { d:80, s:80, r:20, h:20 }; // é«˜çŒ®èº«ãƒ»é«˜çŠ ç‰²ãƒ»ä½è€æ€§ãƒ»ä½äººé–“
TYPES.STOIC.centroid   = { d:80, s:80, r:80, h:40 }; // é«˜çŒ®èº«ãƒ»é«˜çŠ ç‰²ãƒ»é«˜è€æ€§ãƒ»ä¸­ä½äººé–“
TYPES.LONE.centroid    = { d:80, s:80, r:80, h:20 }; // é«˜çŒ®èº«ãƒ»é«˜çŠ ç‰²ãƒ»é«˜è€æ€§ãƒ»ä½äººé–“
TYPES.KIND.centroid    = { d:80, s:20, r:20, h:80 }; // é«˜çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»ä½è€æ€§ãƒ»é«˜äººé–“
TYPES.SENSITIVE.centroid = { d:80, s:20, r:20, h:20 }; // é«˜çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»ä½è€æ€§ãƒ»ä½äººé–“
TYPES.TEAM.centroid    = { d:80, s:20, r:80, h:80 }; // é«˜çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»é«˜è€æ€§ãƒ»é«˜äººé–“
TYPES.PACE.centroid    = { d:80, s:20, r:80, h:40 }; // é«˜çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»é«˜è€æ€§ãƒ»ä¸­ä½äººé–“
TYPES.YURUFUWA.centroid = { d:20, s:80, r:20, h:80 }; // ä½çŒ®èº«ãƒ»é«˜çŠ ç‰²ãƒ»ä½è€æ€§ãƒ»é«˜äººé–“
TYPES.HIDDEN.centroid  = { d:50, s:50, r:20, h:50 }; // ä¸­åº¸ãƒ»ä½è€æ€§ï¼ˆæ½œåœ¨ç–²åŠ´ï¼‰
TYPES.NICE.centroid    = { d:50, s:50, r:50, h:80 }; // ä¸­åº¸ãƒ»äººé–“é«˜ï¼ˆãŠäººå¥½ã—ï¼‰
TYPES.REAL.centroid    = { d:50, s:50, r:50, h:20 }; // ä¸­åº¸ãƒ»äººé–“ä½ï¼ˆç¾å®Ÿæ´¾ï¼‰
TYPES.FAMILY.centroid  = { d:20, s:20, r:50, h:80 }; // ä½çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»ä¸­è€æ€§ãƒ»äººé–“é«˜
TYPES.LWB.centroid     = { d:60, s:20, r:50, h:50 }; // ä¸­é«˜çŒ®èº«ãƒ»ä½çŠ ç‰²ãƒ»ä¸­è€æ€§ãƒ»ä¸­äººé–“
TYPES.ABLE.centroid    = { d:80, s:50, r:80, h:50 }; // é«˜çŒ®èº«ãƒ»ä¸­çŠ ç‰²ãƒ»é«˜è€æ€§ãƒ»ä¸­äººé–“

// è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ–°ã—ã„é–¢æ•°ã‚’ä½¿ç”¨ï¼‰
function getResultType(normalizedScores) {
    const ax = {
        d: normalizedScores.dedication,
        s: normalizedScores.sacrifice,
        r: normalizedScores.stress,
        h: normalizedScores.relationship
    };
    
    console.log('=== è¨ºæ–­ãƒ‡ãƒãƒƒã‚°æƒ…å ± ===');
    console.log('è¨ºæ–­ã‚¹ã‚³ã‚¢:', ax);
    
    // ãƒ¬ã‚¢åˆ¤å®š
    const rareResult = rareCheck(ax);
    if (rareResult) {
        console.log('ãƒ¬ã‚¢æ¡ä»¶:', rareResult.name);
        return rareResult;
    }
    
    // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒï¼ˆç„¡åŠ¹åŒ–ï¼‰
    const patternResult = patternMatch(ax);
    if (patternResult) {
        console.log('ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒ:', patternResult.name);
        return patternResult;
    }
    
    // è¿‘å‚å‰²å½“
    const nearestResult = nearestType(ax);
    console.log('è¿‘å‚å‰²å½“:', nearestResult.name);
    console.log('=== è¨ºæ–­ãƒ‡ãƒãƒƒã‚°çµ‚äº† ===');
    
    return nearestResult;
}

// ãƒ©ãƒ³ãƒ€ãƒ ãªå›ç­”ã‚’ç”Ÿæˆ
function generateRandomAnswers() {
    const answers = [];
    for (let i = 0; i < 15; i++) {
        answers.push(Math.floor(Math.random() * 6) + 1); // 1-6
    }
    return answers;
}

// 1000å›ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
function runTest() {
    const results = {};
    
    // åˆæœŸåŒ–
    resultTypes.forEach(type => {
        results[type.name] = 0;
    });
    
    console.log('1000å›ãƒ†ã‚¹ãƒˆé–‹å§‹ï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯v2ï¼‰...');
    
    for (let i = 0; i < 1000; i++) {
        const answers = generateRandomAnswers();
        const scores = calculateScores(answers);
        const result = getResultType(scores);
        results[result.name]++;
        
        if (i % 100 === 0) {
            console.log(`${i}å›å®Œäº†`);
        }
    }
    
    console.log('1000å›ãƒ†ã‚¹ãƒˆå®Œäº†ï¼');
    
    // çµæœã‚’è¡¨ç¤º
    const resultsDiv = document.getElementById('results');
    resultsDiv.innerHTML = '<h2>1000å›ãƒ†ã‚¹ãƒˆçµæœï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯v2ï¼‰</h2>';
    
    const sortedResults = Object.entries(results)
        .sort((a, b) => b[1] - a[1]);
    
    let resultText = '';
    sortedResults.forEach(([name, count]) => {
        const percentage = (count / 1000 * 100).toFixed(1);
        const barWidth = (count / 1000 * 100).toFixed(1);
        resultText += `${name}: ${count}å› (${percentage}%)\n`;
        resultsDiv.innerHTML += `
            <div style="margin: 10px 0; padding: 10px; border: 1px solid #ccc; border-radius: 5px;">
                <strong>${name}</strong>: ${count}å› (${percentage}%)
                <div style="background: #f0f0f0; height: 20px; border-radius: 10px; margin-top: 5px;">
                    <div style="background: #4CAF50; height: 100%; width: ${barWidth}%; border-radius: 10px;"></div>
                </div>
            </div>
        `;
    });
    
    // ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚‚å‡ºåŠ›
    console.log('\n=== 1000å›ãƒ†ã‚¹ãƒˆçµæœï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯v2ï¼‰ ===');
    console.log(resultText);
    
    // çµæœã‚’ã‚¢ãƒ©ãƒ¼ãƒˆã§è¡¨ç¤º
    alert('1000å›ãƒ†ã‚¹ãƒˆå®Œäº†ï¼ˆæ–°ãƒ­ã‚¸ãƒƒã‚¯v2ï¼‰ï¼\n\n' + resultText);
    
    return results;
}

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
window.onload = runTest;
</script>
</body>
</html>
